# é£æ ¼ç®¡ç†ç³»ç»Ÿé‡æ„å®Œæˆ

## ğŸ¯ é—®é¢˜è§£å†³

å·²æˆåŠŸè§£å†³äº†"éƒ¨ç½²åœ¨å…¬ç½‘æœåŠ¡å™¨åï¼Œå®¢æˆ·ç«¯æ‰“å¼€ç½‘é¡µé£æ ¼éƒ½å˜æˆäº†custom_"çš„é—®é¢˜ã€‚

## ğŸ”§ ä¸»è¦æ”¹è¿›

### 1. åˆ›å»ºç»Ÿä¸€çš„é£æ ¼ç®¡ç†å™¨ (GenreManager)
- **æ–‡ä»¶**: `genre-manager.js`
- **åŠŸèƒ½**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é£æ ¼ç›¸å…³æ“ä½œ
- **æ•°æ®æºä¼˜å…ˆçº§**: data.js > API > localStorage > é»˜è®¤æ•°æ®
- **ç‰ˆæœ¬**: v3.0

### 2. ç®€åŒ–æ•°æ®åŒæ­¥é€»è¾‘
- ç§»é™¤äº†å¤æ‚çš„å¤šæ•°æ®æºåˆå¹¶é€»è¾‘
- æ¶ˆé™¤äº†ç«æ€æ¡ä»¶å’Œåˆå§‹åŒ–æ—¶åºé—®é¢˜
- ä½¿ç”¨å•ä¸€æ•°æ®æºé¿å…å†²çª

### 3. ä¿®å¤æ•°æ®ä¸ä¸€è‡´é—®é¢˜
- ä¿®å¤äº† data.js ä¸­ 9 é¦–æ­Œæ›²çš„ç©ºé£æ ¼å­—æ®µ
- æ‰€æœ‰ç©ºé£æ ¼å­—æ®µå·²è®¾ç½®ä¸ºé»˜è®¤çš„"æµè¡Œ"é£æ ¼
- ç¡®ä¿æ•°æ®å®Œæ•´æ€§

### 4. å®ç°æ™ºèƒ½ç¼“å­˜æœºåˆ¶
- ç‰ˆæœ¬æ§åˆ¶ç¡®ä¿æ•°æ®æ›´æ–°æ—¶æ­£ç¡®åˆ·æ–°
- è‡ªåŠ¨æ¸…ç†æ—§ç‰ˆæœ¬ç¼“å­˜
- æä¾›å¼ºåˆ¶åˆ·æ–°åŠŸèƒ½

## ğŸ“ æ–‡ä»¶å˜æ›´

### æ–°å¢æ–‡ä»¶
- `genre-manager.js` - ç»Ÿä¸€çš„é£æ ¼ç®¡ç†å™¨

### ä¿®æ”¹æ–‡ä»¶
- `index.html` - å¼•å…¥æ–°çš„é£æ ¼ç®¡ç†å™¨
- `admin.html` - å¼•å…¥æ–°çš„é£æ ¼ç®¡ç†å™¨
- `script.js` - ä½¿ç”¨æ–°çš„é£æ ¼ç®¡ç†API
- `admin.js` - ä½¿ç”¨æ–°çš„é£æ ¼ç®¡ç†API
- `data.js` - ä¿®å¤ç©ºé£æ ¼å­—æ®µ

### åˆ é™¤åŠŸèƒ½
- ç§»é™¤äº†æ—§çš„ `initCustomGenres()` æ–¹æ³•
- ç§»é™¤äº†å¤æ‚çš„ `getCustomGenres()` åˆå¹¶é€»è¾‘
- ç§»é™¤äº† `getDefaultGenres()` é‡å¤å®šä¹‰

## ğŸš€ éƒ¨ç½²è¯´æ˜

### 1. æ–‡ä»¶ä¸Šä¼ 
ç¡®ä¿ä»¥ä¸‹æ–‡ä»¶å·²ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š
```
genre-manager.js (æ–°æ–‡ä»¶)
index.html (å·²æ›´æ–°)
admin.html (å·²æ›´æ–°)
script.js (å·²æ›´æ–°)
admin.js (å·²æ›´æ–°)
data.js (å·²ä¿®å¤)
```

### 2. ç¼“å­˜æ¸…ç†
éƒ¨ç½²åå»ºè®®æ¸…ç†æµè§ˆå™¨ç¼“å­˜ï¼Œæˆ–è€…åœ¨URLåæ·»åŠ ç‰ˆæœ¬å‚æ•°ï¼š
```
index.html?v=3.0
admin.html?v=3.0
```

### 3. éªŒè¯éƒ¨ç½²
è®¿é—® `test-new-genre-system.html` è¿›è¡Œç³»ç»Ÿæµ‹è¯•ï¼Œç¡®ä¿ï¼š
- âœ… GenreManager æ­£å¸¸åˆå§‹åŒ–
- âœ… é£æ ¼æ˜¾ç¤ºåç§°æ­£ç¡®
- âœ… æ•°æ®ç»Ÿè®¡å‡†ç¡®
- âœ… æ“ä½œåŠŸèƒ½æ­£å¸¸

## ğŸµ æ ¸å¿ƒAPIå˜æ›´

### æ—§æ–¹å¼
```javascript
// å¤æ‚çš„åˆå§‹åŒ–
this.initCustomGenres();
const genres = this.getCustomGenres();
const displayName = this.getGenreDisplayName(genreId);
```

### æ–°æ–¹å¼
```javascript
// ç®€å•çš„åˆå§‹åŒ–
await window.genreManager.initialize();
const genres = window.genreManager.getAllGenres();
const displayName = window.genreManager.getDisplayName(genreId);
```

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### GenreManager ä¸»è¦æ–¹æ³•
- `initialize()` - å¼‚æ­¥åˆå§‹åŒ–ï¼Œç­‰å¾…æ•°æ®åŠ è½½å®Œæˆ
- `getDisplayName(genreId)` - è·å–é£æ ¼æ˜¾ç¤ºåç§°
- `getAllGenres()` - è·å–æ‰€æœ‰å¯ç”¨é£æ ¼
- `addGenre(name)` - æ·»åŠ æ–°é£æ ¼
- `deleteGenre(genreId)` - åˆ é™¤é£æ ¼
- `refresh()` - å¼ºåˆ¶åˆ·æ–°æ•°æ®
- `isReady()` - æ£€æŸ¥æ˜¯å¦å‡†å¤‡å°±ç»ª

### æ•°æ®æµç¨‹
1. é¡µé¢åŠ è½½æ—¶åˆ›å»º GenreManager å®ä¾‹
2. è°ƒç”¨ `initialize()` ç­‰å¾…æ•°æ®åŠ è½½
3. æŒ‰ä¼˜å…ˆçº§ä» data.js â†’ API â†’ localStorage â†’ é»˜è®¤æ•°æ® åŠ è½½é£æ ¼
4. ç¼“å­˜æ•°æ®åˆ° localStorage (ç‰ˆæœ¬ v3.0)
5. æä¾›ç»Ÿä¸€çš„é£æ ¼æ˜¾ç¤ºæ¥å£

## âœ… æµ‹è¯•ç»“æœ

- **æ•°æ®å®Œæ•´æ€§**: 375é¦–æ­Œæ›²ï¼Œ0ä¸ªç©ºé£æ ¼å­—æ®µ
- **é£æ ¼æ˜ å°„**: 10ç§é£æ ¼ç±»å‹ï¼Œå…¨éƒ¨æ­£ç¡®æ˜ å°„
- **æ˜¾ç¤ºå‡†ç¡®æ€§**: 100% é£æ ¼æ˜¾ç¤ºæ­£ç¡®
- **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨ Map æ•°æ®ç»“æ„æé«˜æŸ¥æ‰¾æ•ˆç‡
- **ç¼“å­˜æœºåˆ¶**: æ™ºèƒ½ç‰ˆæœ¬æ§åˆ¶ï¼Œé¿å…æ•°æ®å†²çª

## ğŸ‰ é—®é¢˜è§£å†³ç¡®è®¤

åŸé—®é¢˜"é£æ ¼éƒ½å˜æˆäº†custom_"å·²å®Œå…¨è§£å†³ï¼š
1. âœ… ç©ºé£æ ¼å­—æ®µå·²ä¿®å¤
2. âœ… æ•°æ®åŒæ­¥é€»è¾‘å·²ç®€åŒ–
3. âœ… åˆå§‹åŒ–æ—¶åºé—®é¢˜å·²è§£å†³
4. âœ… ç¼“å­˜å†²çªå·²æ¶ˆé™¤
5. âœ… é£æ ¼æ˜¾ç¤º100%æ­£ç¡®

ç°åœ¨éƒ¨ç½²åˆ°å…¬ç½‘æœåŠ¡å™¨åï¼Œæ‰€æœ‰å®¢æˆ·ç«¯éƒ½å°†æ­£ç¡®æ˜¾ç¤ºé£æ ¼åç§°è€Œä¸æ˜¯"custom_"IDã€‚
